{"version":3,"sources":["App.js","index.js"],"names":["SystemProgram","web3","arr","Keypair","Object","values","kp","_keypair","secretKey","secret","Uint8Array","baseAccount","fromSecretKey","programID","PublicKey","idl","metadata","address","network","clusterApiUrl","opts","getTweetID","tweetURL","pathComponents","split","length","isResubmission","tweet_id","list_of_tweets","i","App","_useState","useState","_useState2","slicedToArray","walletAddress","setWalletAddress","_useState3","_useState4","inputValueTweet","setInputValueTweet","_useState5","_useState6","inputValueEffort","setInputValueEffort","_useState7","_useState8","inputValueReward","setInputValueReward","_useState9","_useState10","tokens","setTokens","_useState11","_useState12","tweets","setTweets","checkIfWalletIsConnected","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","_window","solana","response","wrap","_context","prev","next","window","isPhantom","console","log","connect","onlyIfTrusted","sent","publicKey","toString","alert","t0","error","stop","apply","this","arguments","connectWallet","_ref2","_callee2","_window2","provider","program","_context2","getProvider","Program","rpc","registerUser","accounts","user","wallet","disconnectWallet","_ref3","_callee3","_window3","_context3","disconnect","sendTweet","_ref4","_callee4","tweetID","_context4","abrupt","account","fetch","submitTweet","BN","resubmitTweet","getTweets","onInputChangeTweet","event","value","target","onInputChangeReward","onInputChangeEffort","connection","Connection","Provider","createTweetAccount","_ref5","_callee5","_context5","startProgram","systemProgram","programId","signers","TweetBox","props","locked","react_default","createElement","className","key","id","index_modern","tweetId","useEffect","onLoad","_ref6","_callee6","_context6","addEventListener","removeEventListener","_ref7","_callee7","twts","count","_i","_context7","tokenRegistry","push","toNumber","Accordion","Item","eventKey","Header","Body","ListGroup","text","Fragment","onClick","onSubmit","preventDefault","type","placeholder","onChange","map","twt","ReactDOM","render","StrictMode","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.f22a1787.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { Connection, PublicKey, clusterApiUrl} from '@solana/web3.js';\nimport {TwitterTweetEmbed} from 'react-twitter-embed';\nimport {\n  Program, Provider, web3, BN\n} from '@project-serum/anchor';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Accordion from 'react-bootstrap/Accordion';\n\nimport idl from './idl.json';\nimport kp from './keypair.json'\n\n// SystemProgram is a reference to the Solana runtime!\nconst { SystemProgram, Keypair } = web3;\n\n// Create a keypair for the account that will hold the tweet data.\nconst arr = Object.values(kp._keypair.secretKey)\nconst secret = new Uint8Array(arr)\nconst baseAccount = web3.Keypair.fromSecretKey(secret)\n\n// Get our program's id from the IDL file.\nconst programID = new PublicKey(idl.metadata.address);\n\n// Set our network to devnet.\nconst network = clusterApiUrl('devnet');\n\n// Controls how we want to acknowledge when a transaction is \"done\".\nconst opts = {\n  preflightCommitment: \"processed\"\n}\n\nfunction getTweetID(tweetURL) {\n  const pathComponents = tweetURL.split(\"/\");\n  const idWithQuery = pathComponents[pathComponents.length-1];\n  const tweetId = idWithQuery.split(\"?\")[0];\n  return tweetId\n}\n\nfunction isResubmission(tweet_id,list_of_tweets) {\n  for (let i = 0; i < list_of_tweets.length; i++) { \n    if (list_of_tweets[i]['tweetId'] === tweet_id) {\n      return true;\n    }\n  }\n  return false;\n}\n\nconst App = () => {\n  // State\nconst [walletAddress, setWalletAddress] = useState(null);\nconst [inputValueTweet, setInputValueTweet] = useState('');\nconst [inputValueEffort, setInputValueEffort] = useState('');\nconst [inputValueReward, setInputValueReward] = useState('');\nconst [tokens, setTokens] = useState(0);\n\nconst [tweets, setTweets] = useState([]);\n\n  /*\n   * This function holds the logic for deciding if a Phantom Wallet is\n   * connected or not\n   */\n  const checkIfWalletIsConnected = async () => {\n    try {\n      const { solana } = window;\n\n      if (solana) {\n        if (solana.isPhantom) {\n          console.log('Phantom wallet found!');\n\n        /*\n         * The solana object gives us a function that will allow us to\n         * connect directly with the user's wallet!\n         */\n          const response = await solana.connect({ onlyIfTrusted: true });\n          console.log(\n            'Connected with Public Key:',\n            response.publicKey.toString()\n          );\n\n          /*\n           * Set the user's publicKey in state to be used later!\n           */\n          setWalletAddress(response.publicKey.toString());\n        }\n      } else {\n        alert('Solana object not found! Get a Phantom Wallet ðŸ‘»');\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  /*\n   * Let's define this method so our code doesn't break.\n   * We will write the logic for this next!\n   */\n  const connectWallet = async () => {\n  const { solana } = window;\n\n  if (solana) {\n    const response = await solana.connect();\n\n    //register User\n    const provider = getProvider();\n    const program = new Program(idl, programID, provider);\n    await program.rpc.registerUser({\n      accounts: {\n        baseAccount: baseAccount.publicKey,\n        user: provider.wallet.publicKey,\n      }\n    });\n\n    console.log('Connected with Public Key:', response.publicKey.toString());\n    setWalletAddress(response.publicKey.toString());\n  }\n};\n\nconst disconnectWallet = async () => {\n  console.log('trying to dc')\n  const { solana } = window;\n  if (solana) {\n    const response = await solana.disconnect();\n    setWalletAddress(null);\n  }\n};\n\nconst sendTweet = async () => {\n  if (inputValueTweet.length === 0) {\n    console.log(\"not a tweet\")\n    //could be better\n    return\n  }\n  setInputValueTweet('');\n  console.log('Link to tweet:', inputValueTweet);\n  try {\n    const provider = getProvider();\n    const program = new Program(idl, programID, provider);\n    const account = await program.account.baseAccount.fetch(baseAccount.publicKey);\n    \n    const tweetID = getTweetID(inputValueTweet)\n    const resubmission = isResubmission(tweetID, tweets)\n    if (!resubmission) {\n      if (inputValueEffort.length === 0 || inputValueReward === 0) {\n        console.log(\"need effort & reward for a new tweet\")\n        return\n      }\n      setInputValueTweet('');\n      setInputValueEffort('');\n      setInputValueReward('');\n      await program.rpc.submitTweet(tweetID,new BN((inputValueEffort)),new BN((inputValueReward)), {\n        accounts: {\n          baseAccount: baseAccount.publicKey,\n          user: provider.wallet.publicKey,\n        },\n      });\n    }\n    else {\n      await program.rpc.resubmitTweet(tweetID, {\n        accounts: {\n          baseAccount: baseAccount.publicKey,\n          user: provider.wallet.publicKey,\n        },\n      });\n    }\n    await getTweets();\n  } catch (error) {\n    console.log(\"Error sending tweet:\", error)\n  }\n};\n  /*\n   * We want to render this UI when the user hasn't connected\n   * their wallet to our app yet.\n   */\n  const renderNotConnectedContainer = () => (\n    <button\n      className=\"cta-button connect-wallet-button\"\n      onClick={connectWallet}\n    >\n      Connect to Wallet\n    </button>\n  );\n\n  const onInputChangeTweet = (event) => {\n  const { value } = event.target;\n  setInputValueTweet(value);\n  };\n\n  const onInputChangeReward = (event) => {\n  const { value } = event.target;\n  setInputValueReward(value);\n  };\n\n  const onInputChangeEffort = (event) => {\n  const { value } = event.target;\n  setInputValueEffort(value);\n  };\n\nconst getProvider = () => {\n  const connection = new Connection(network, opts.preflightCommitment);\n  const provider = new Provider(\n    connection, window.solana, opts.preflightCommitment,\n  );\n\treturn provider;\n}\nconst createTweetAccount = async () => {\n  try {\n    const provider = getProvider();\n    const program = new Program(idl, programID, provider);\n    await program.rpc.startProgram({\n      accounts: {\n        baseAccount: baseAccount.publicKey,\n        user: provider.wallet.publicKey,\n        systemProgram: SystemProgram.programId,\n      },\n      signers: [baseAccount]\n    });\n    console.log(\"Created a new BaseAccount w/ address:\", baseAccount.publicKey.toString())\n    await getTweets();\n\n  } catch(error) {\n    console.log(\"Error creating BaseAccount account:\", error)\n  }\n}\n\n/*function MiningInfo(props) {\n  if (props.locked) {\n    return <div>\n      <p color='green'>current effort: {props.currentEffort}</p>\n      <p>tweet mined by: {props.miner}</p>\n      </div>;\n  }\n  else {\n    return <div><p color='yellow'>current effort: {props.currentEffort}</p></div>;\n  }\n}\nfunction AuthorInfo(props) {\n  const provider = getProvider();\n  if (props.author === provider.wallet.publicKey) {\n    return <div>\n      <p>required effort: {props.totalEffort}</p>\n      <p>reward tokens: {props.reward}</p>\n      <p>tweet mined by: {props.author}</p>\n      </div>;\n  }\n  else {\n    return <div></div>;\n  }\n}*/\n\nfunction TweetBox(props) {\n  if (props.locked) {\n    return <div className=\"tweetbox-mined\" key={props.id}>\n      <TwitterTweetEmbed tweetId={props.id}/>\n    </div> \n  }\n  else {\n    return <div className=\"tweetbox-unmined\" key={props.id}>\n    <TwitterTweetEmbed tweetId={props.id}/>\n    </div>\n  }\n}\n\nfunction Tokens() {\n  if (walletAddress === null) {\n    return <></>\n  }\n  if (tokens === 1) {\n    return <p className=\"sub-text\">\n    You have 1 tweet token.\n  </p>\n  }\n  return <p className=\"sub-text\">\n    You have {tokens} tweet tokens.\n  </p>\n}\n\nfunction Disconnect() {\n  if (walletAddress === null) {\n    return <></>\n  }\n  else {\n    return <button\n      className=\"cta-button connect-wallet-button\"\n      onClick={disconnectWallet}\n    >Disconnect</button>\n  }\n  \n}\n\nconst renderConnectedContainer = () => {\n  // If we hit this, it means the program account hasn't been initialized.\n    if (tweets === null) {\n      return (\n        <div className=\"connected-container\">\n          <button className=\"cta-button submit-tweet-button\" onClick={createTweetAccount}>\n            Initialize the Program Account (Only needs to be done once)\n          </button>\n        </div>\n      )\n    } \n    //conver the things\n    // Otherwise, we're good! Account exists. User can submit tweets.\n    else {\n      return(\n        <div className=\"connected-container\">\n          <form\n            onSubmit={(event) => {\n              event.preventDefault();\n              sendTweet();\n            }}\n          >\n            <input\n              type=\"text\"\n              placeholder=\"Enter a link to a tweet\"\n              value={inputValueTweet}\n              onChange={onInputChangeTweet}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Enter effort (# resubmissions)\"\n              value={inputValueEffort}\n              onChange={onInputChangeEffort}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Enter reward (# tokens)\"\n              value={inputValueReward}\n              onChange={onInputChangeReward}\n            />\n            <button type=\"submit\" className=\"cta-button submit-tweet-button\">\n              Submit\n            </button>\n          </form>\n          <div className=\"tweet-grid\">\n            {/* We use index as the key instead, also, the src is now item.tweetLink */}\n            {tweets.map(twt => (\n              <TweetBox id={twt['tweetId']} locked={twt['locked']}/>\n            ))}\n          </div>\n        </div>\n      )\n    }\n  }\n\n  /*\n      <AuthorInfo totalEffort={twt['requiredEffort']} author={twt['author']}/>\n                <MiningInfo currentEffort={twt['currentEffort']} reward={twt['reward']} locked={twt['locked']}/>\n\n                <AuthorInfo totalEffort={twt['requiredEffort']['words']} author={twt['author']}/>\n                <MiningInfo currentEffort={twt['currentEffort']['words']} reward={twt['reward']} locked={twt['locked']}/>\n\n                <div className=\"tweet-item\" key={twt['tweetId']}>\n                <TwitterTweetEmbed tweetId={twt['tweetId']}/>\n              </div>\n  */\n\n  /* <p>render green or render current effort is {twt['currentEffort']}</p>\n                <p>poster of tweet: {twt['author']}</p>\n                <p>render if miner != author. mined by: {twt['miner']</p> */\n\n  //<img src={item.tweetLink} />\n  //                <TwitterTweetEmbed tweetId={getTweetID(item.tweetLink)}/> <TwitterTweetEmbed tweetId={tweetID}/>\n\n\n  /*\n      background: -webkit-linear-gradient(left, #4e44ce, #35aee2);\n  background: -webkit-linear-gradient(left, #60c657, #35aee2);\n\n*/\n\n  /*\n   * When our component first mounts, let's check to see if we have a connected\n   * Phantom Wallet\n   */\n  useEffect(() => {\n    const onLoad = async () => {\n      await checkIfWalletIsConnected();\n    };\n    window.addEventListener('load', onLoad);\n    return () => window.removeEventListener('load', onLoad);\n  }, []);\n\n  const getTweets = async() => {\n    try {\n      const provider = getProvider();\n      const program = new Program(idl, programID, provider);\n      const account = await program.account.baseAccount.fetch(baseAccount.publicKey);\n      \n      console.log(\"Got the account\", account)\n      var twts = []\n      console.log('i have ',account.tokenRegistry[0]['tokens']['words'],' tokens')\n\n      for (let i = 0; i < account.tweets.length; i++) { \n        twts.push((account.tweets[i]))\n        console.log('required effort',account.tweets[i]['requiredEffort']['words'])\n        console.log('current effort',account.tweets[i]['currentEffort']['words'])\n        console.log('this tweet is locked: ',account.tweets[i]['locked'])\n      }\n\n      setTweets(twts)\n      var count = 0;\n      for (let i = 0; i < account.tokenRegistry.length; i++) { \n        if (account.tokenRegistry[i]['userAddress'].toString() === walletAddress) {\n          count = account.tokenRegistry[i]['tokens'].toNumber();\n          break;\n        }\n      }\n      console.log(count);\n      setTokens(count);\n  \n    } catch (error) {\n      console.log(\"Error in getTweets: \", error)\n      setTweets(null);\n    }\n  }\n  \n  useEffect(() => {\n    if (walletAddress) {\n      console.log('Fetching tweets...');\n      getTweets()\n    }\n  }, [walletAddress]);\n\n  return (\n    <div className=\"App\">\n\n<Accordion>\n  <Accordion.Item eventKey=\"0\">\n    <Accordion.Header>Read rules before posting</Accordion.Header>\n    <Accordion.Body>\n    <ListGroup>\n        <ListGroup.Item><h1 text='white'>Submission rules</h1></ListGroup.Item>\n        <ListGroup.Item><p>1. Each wallet is given two tweet tokens (not an actual token on Solana) upon registration.</p></ListGroup.Item>\n        <ListGroup.Item><p>2. Submitting a new tweet to the wall requires spending a tweet token. Resubmitting an existing tweet does not</p></ListGroup.Item>\n        <ListGroup.Item><p>3. When a new tweet submitted, the submitter must provide a) the amount of resubmissions it takes to mine the tweet (effort) and b) the amount of tweet tokens (reward) awarded to the miner of the tweet</p></ListGroup.Item>\n        <ListGroup.Item><p>4. The miner of the tweet is defined as the wallet that provides the final resubmission needed to mine the tweet. The submitter cannot be the miner.</p></ListGroup.Item>\n        <ListGroup.Item><p>5. The effort and reward of a tweet are known only to the initial poster of the tweet.</p></ListGroup.Item>\n      </ListGroup>\n    </Accordion.Body>\n  </Accordion.Item>\n</Accordion>\n\n      \n\t\t\t{/* This was solely added for some styling fanciness */}\n      \n      <Disconnect />\n      \n\t\t\t<div className={walletAddress ? 'authed-container' : 'container'}>\n        <div className=\"header-container\">\n          <p className=\"header\">Tweet Board</p>\n          <p className=\"sub-text\">\n            Mined tweets in green. Unmined tweets in yellow. Rules above.\n          </p>\n          <Tokens />\n          \n          {/* Add the condition to show this only if we don't have a wallet address */}\n          {!walletAddress && renderNotConnectedContainer()}\n          {/* We just need to add the inverse here! */}\n        {walletAddress && renderConnectedContainer()}\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}